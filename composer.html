<!DOCTYPE html>
<meta charset="utf-8">
<script src="js/d3.v4.js"></script>

<style>
.center {
  display: flex;
   justify-content: center;

}

.visualization {
 font: 10.5px sans-serif;
 margin: 0 auto;
 max-width: 800px;
 position: relative;

}


</style>
<body>

<!-- Create a div where the graph will take place -->
<div class="center">
  <div class="visualization" id="piece1_viz"></div>
</div>
<div class="center">
  <div class="visualization" id="composer_viz"></div>
</div>
</body>

 <script>
 var margin = {top: 0, right: 0, bottom: 40, left: 140},
     width = 1000 - margin.left - margin.right,
     height = 350 - margin.top - margin.bottom;
 // append the svg object to the body of the page


 d3.csv("https://raw.githubusercontent.com/Mackmiller/DDJ/master/data/top_pieces.csv", function(data) {

   //Bars
   svg.selectAll("myRect")
     .data(data)
     .enter()
     .append("rect")
     .attr("x", x(0) )
     .attr("y", function(d) { return y(d.Piece); })
     .attr("width", function(d) { return x(d.Value); })
     .attr("height", y.bandwidth() )
     .attr("fill", "#A9261C")
 })


 var margin2 = {top: 0, right: 0, bottom: 40, left: 140},
     width2 = 1000 - margin.left - margin.right,
     height2 = 350 - margin.top - margin.bottom;

 var svg2 = d3.select("#composer_viz")
   .append("svg")
     .attr("width", width2 + margin.left + margin.right)
     .attr("height", height2 + margin.top + margin.bottom)
   .append("g")
     .attr("transform",
           "translate(" + margin.left + "," + margin.top + ")");

 d3.csv("https://raw.githubusercontent.com/Mackmiller/DDJ/master/data/top_composers.csv", function(data) {

 //x axis
   var x = d3.scaleLinear()
     .domain([0, 300])
     .range([ 0, width2]);
   svg2.append("g")
     .attr("transform", "translate(0," + height2 + ")")
     .call(d3.axisBottom(x).ticks(4))

   // Y axis
   var y = d3.scaleBand()
     .range([ 0, height2 ])
     .domain(data.map(function(d) { return d.Composer; }))
     .padding(.1);

   svg2.append("g")
     .attr("class", "axisWhite")
     .call(d3.axisLeft(y).tickSize(0))


   //Bars
   svg2.selectAll("Rect2")
     .data(data)
     .enter()
     .append("rect")
     .attr("x", x(0) )
     .attr("y", function(d) { return y(d.Composer); })
     .attr("width2", function(d) { return x(d.Value); })
     .attr("height2", y.bandwidth() )
     .attr("fill", "#A9261C")
 })

 svg2.append("text")
                    .attr("x", 650)
                    .attr("y", 275)
                    .style("font-family", "sans-serif")
                    .style("font-size", "10px")
                    .text("Number of pieces");

 </script>
